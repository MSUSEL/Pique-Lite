{"ast":null,"code":"var _jsxFileName = \"/Users/xuyingwang/Documents/Pique-Lite/src/components/pop-up/MultipleFileUpload.component.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { setProjects } from '../../redux/piqueTree/PiqueTree.actions';\nimport { readAllFiles } from '../../utils/fileUpload.utils';\nimport { LoaderWrapper, Label, Input, ProgressResult } from './MultipleFileUpload.styles';\nimport { selectProjects } from '../../redux/piqueTree/PiqueTree.selector';\nimport { Line } from 'rc-progress';\nimport { Green } from '../../utils/color';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MultipleFilesUpload = ({\n  projects,\n  setProjects\n}) => {\n  _s();\n\n  const [progress, setProcess] = React.useState(0);\n\n  const handleUpload = async e => {\n    let allFiles = [];\n    [...e.target.files].filter(file => file.size !== 0).map(file => allFiles.push(file));\n    const results = await readAllFiles(allFiles, setProcess);\n    setProjects(results);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(LoaderWrapper, {\n      children: /*#__PURE__*/_jsxDEV(Label, {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"Upload Multiple Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"file\",\n          accept: \".json\",\n          multiple: true,\n          onChange: handleUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), projects && progress ? projects.map((file, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"v\", file.versionNumber, \" \", file.fileName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          percent: progress,\n          strokeWidth: \"1\",\n          strokeColor: Green.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 33\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 29\n      }, this);\n    }) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MultipleFilesUpload, \"hriIXiEsuh3JnQC3910o+Vz/lbA=\");\n\n_c = MultipleFilesUpload;\nconst mapStateToProps = createStructuredSelector({\n  projects: selectProjects\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setProjects: data => dispatch(setProjects(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultipleFilesUpload);\n\nvar _c;\n\n$RefreshReg$(_c, \"MultipleFilesUpload\");","map":{"version":3,"sources":["/Users/xuyingwang/Documents/Pique-Lite/src/components/pop-up/MultipleFileUpload.component.js"],"names":["React","connect","createStructuredSelector","setProjects","readAllFiles","LoaderWrapper","Label","Input","ProgressResult","selectProjects","Line","Green","MultipleFilesUpload","projects","progress","setProcess","useState","handleUpload","e","allFiles","target","files","filter","file","size","map","push","results","index","versionNumber","fileName","value","mapStateToProps","mapDispatchToProps","dispatch","data"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SAAUC,WAAV,QAA6B,yCAA7B;AACA,SAASC,YAAT,QAA6B,8BAA7B;AAEA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,KAA/B,EAAsCC,cAAtC,QAA2D,6BAA3D;AACA,SAASC,cAAT,QAA+B,0CAA/B;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,KAAT,QAAsB,mBAAtB;;;AAGA,MAAMC,mBAAmB,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWV,EAAAA;AAAX,CAAD,KAA6B;AAAA;;AAErD,QAAM,CAACW,QAAD,EAAWC,UAAX,IAAyBf,KAAK,CAACgB,QAAN,CAAe,CAAf,CAA/B;;AAEA,QAAMC,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC9B,QAAIC,QAAQ,GAAG,EAAf;AACA,KAAC,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAb,EAAoBC,MAApB,CAA2BC,IAAI,IAAIA,IAAI,CAACC,IAAL,KAAc,CAAjD,EAAoDC,GAApD,CAAwDF,IAAI,IAAGJ,QAAQ,CAACO,IAAT,CAAcH,IAAd,CAA/D;AACA,UAAMI,OAAO,GAAG,MAAMvB,YAAY,CAACe,QAAD,EAAWJ,UAAX,CAAlC;AACAZ,IAAAA,WAAW,CAACwB,OAAD,CAAX;AACH,GALD;;AAOA,sBACI;AAAA,4BACI,QAAC,aAAD;AAAA,6BACI,QAAC,KAAD;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,KAAD;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,MAAM,EAAC,OAFX;AAGI,UAAA,QAAQ,EAAE,IAHd;AAII,UAAA,QAAQ,EAAEV;AAJd;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,EAYSJ,QAAQ,IAAIC,QAAZ,GACGD,QAAQ,CAACY,GAAT,CAAa,CAACF,IAAD,EAAOK,KAAP,KAAiB;AAC1B,0BACI;AAAA,gCACI;AAAA,0BAAKL,IAAI,CAACM,aAAV,OAA0BN,IAAI,CAACO,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,IAAD;AAAM,UAAA,OAAO,EAAEhB,QAAf;AAAyB,UAAA,WAAW,EAAC,GAArC;AAAyC,UAAA,WAAW,EAAEH,KAAK,CAACoB;AAA5D;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA,SAAUH,KAAV;AAAA;AAAA;AAAA;AAAA,cADJ;AAMH,KAPD,CADH,GASG,IArBZ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA2BH,CAtCD;;GAAMhB,mB;;KAAAA,mB;AAwCN,MAAMoB,eAAe,GAAG9B,wBAAwB,CAAC;AAC/CW,EAAAA,QAAQ,EAAEJ;AADqC,CAAD,CAAhD;;AAIA,MAAMwB,kBAAkB,GAAGC,QAAQ,KAAK;AACpC/B,EAAAA,WAAW,EAAEgC,IAAI,IAAID,QAAQ,CAAC/B,WAAW,CAACgC,IAAD,CAAZ;AADO,CAAL,CAAnC;;AAKA,eAAelC,OAAO,CAAC+B,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CrB,mBAA7C,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {  setProjects } from '../../redux/piqueTree/PiqueTree.actions';\nimport { readAllFiles } from '../../utils/fileUpload.utils';\n\nimport { LoaderWrapper, Label, Input, ProgressResult} from './MultipleFileUpload.styles';\nimport { selectProjects } from '../../redux/piqueTree/PiqueTree.selector';\nimport { Line } from 'rc-progress';\nimport { Green } from '../../utils/color';\n\n\nconst MultipleFilesUpload = ({projects, setProjects}) => {\n\n    const [progress, setProcess] = React.useState(0)\n\n    const handleUpload = async (e) => {\n        let allFiles = [];\n        [...e.target.files].filter(file => file.size !== 0).map(file=> allFiles.push(file))\n        const results = await readAllFiles(allFiles, setProcess);\n        setProjects(results)\n    }\n   \n    return (\n        <div>\n            <LoaderWrapper>\n                <Label>\n                    <i>Upload Multiple Files</i>\n                    <Input \n                        type=\"file\" \n                        accept=\".json\" \n                        multiple={true} \n                        onChange={handleUpload}\n                    />\n                </Label>\n            </LoaderWrapper>\n                {projects && progress ? (\n                    projects.map((file, index) => {\n                        return (\n                            <div key={index}>\n                                <p>v{file.versionNumber} {file.fileName}</p>\n                                <Line percent={progress} strokeWidth=\"1\" strokeColor={Green.value}/>\n                            </div>\n                        )\n                    })\n                ) : null}\n\n        </div>\n\n     )\n}\n\nconst mapStateToProps = createStructuredSelector({\n  projects: selectProjects\n})\n\nconst mapDispatchToProps = dispatch => ({\n    setProjects: data => dispatch(setProjects(data)),\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultipleFilesUpload)"]},"metadata":{},"sourceType":"module"}