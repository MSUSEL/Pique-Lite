{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Xuying Wang Swift\\\\Desktop\\\\msu-pique-lite\\\\Pique-Lite\\\\src\\\\components\\\\pop-up\\\\MultipleFileUpload.component.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { setProjects, setQuarters } from '../../redux/piqueTree/PiqueTree.actions';\nimport { readAllFiles } from '../../utils/fileUpload.utils';\nimport { LoaderWrapper, Label, Input, ProgressResult } from './MultipleFileUpload.styles';\nimport { selectProjects } from '../../redux/piqueTree/PiqueTree.selector';\nimport { Line } from 'rc-progress';\nimport { Green } from '../../utils/color';\nimport FromInput from '../formInput/FormInput.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MultipleFilesUpload = ({\n  projects,\n  setProjects\n}) => {\n  _s();\n\n  const [progress, setProcess] = React.useState(0);\n  const [quarterFiles, setQuarterFiles] = React.useState([]);\n  const [quarterNumber, setQuarter] = React.useState('');\n  const [submitting, setSubmitting] = React.useState(false);\n\n  const handleUpload = async e => {\n    let allFiles = [];\n    [...e.target.files].filter(file => file.size !== 0).map(file => allFiles.push(file));\n    const results = await readAllFiles(allFiles, setProcess);\n    setProjects(results);\n    setQuarterFiles(results);\n  };\n\n  console.log(\"quarter files\", quarterFiles); // onChange to handle version input\n\n  const handleQuarterNumber = e => {\n    setQuarter(e.target.value);\n\n    if (quarterFiles !== null) {\n      quarterFiles[\"QuarterFilesNumber\"] = e.target.value;\n    } else {\n      alert.show(\"Quarter files are null\");\n    }\n  };\n\n  console.log(\"quarter number\", quarterNumber); // onClick to handle submitting\n\n  const handleSubmitting = () => {\n    setSubmitting(!submitting);\n  }; // onClick to setprojects setVersions\n\n\n  const handleSubmit = () => {\n    if (quarterNumber !== '' && quarterFiles !== null && !projects.includes(quarterFiles) && !versions.includes(v)) {\n      versions.push(v);\n      projects.push(file);\n      setProjects(projects);\n      setVersions(versions);\n      handleSubmitting();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"S\", /*#__PURE__*/_jsxDEV(LoaderWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"Upload Multiple Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"file\",\n          accept: \".json\",\n          multiple: true,\n          onChange: handleUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FromInput, {\n        type: \"text\",\n        label: \"Quarter Number: Q1\",\n        name: \"quarter\",\n        value: quarterNumber,\n        onChange: handleQuarterNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), projects && progress ? projects.map((file, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"v\", file.versionNumber, \" \", file.fileName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          percent: progress,\n          strokeWidth: \"1\",\n          strokeColor: Green.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 33\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }, this);\n    }) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MultipleFilesUpload, \"ryqmf7t7oCYmiYt0iFNHIhOSnq4=\");\n\n_c = MultipleFilesUpload;\nconst mapStateToProps = createStructuredSelector({\n  projects: selectProjects\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setProjects: data => dispatch(setProjects(data)),\n  setQuarters: data => dispatch(setQuarters(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultipleFilesUpload);\n\nvar _c;\n\n$RefreshReg$(_c, \"MultipleFilesUpload\");","map":{"version":3,"sources":["C:/Users/Xuying Wang Swift/Desktop/msu-pique-lite/Pique-Lite/src/components/pop-up/MultipleFileUpload.component.js"],"names":["React","connect","createStructuredSelector","setProjects","setQuarters","readAllFiles","LoaderWrapper","Label","Input","ProgressResult","selectProjects","Line","Green","FromInput","MultipleFilesUpload","projects","progress","setProcess","useState","quarterFiles","setQuarterFiles","quarterNumber","setQuarter","submitting","setSubmitting","handleUpload","e","allFiles","target","files","filter","file","size","map","push","results","console","log","handleQuarterNumber","value","alert","show","handleSubmitting","handleSubmit","includes","versions","v","setVersions","index","versionNumber","fileName","mapStateToProps","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport {  setProjects, setQuarters } from '../../redux/piqueTree/PiqueTree.actions';\r\nimport { readAllFiles } from '../../utils/fileUpload.utils';\r\n\r\nimport { LoaderWrapper, Label, Input, ProgressResult} from './MultipleFileUpload.styles';\r\nimport { selectProjects } from '../../redux/piqueTree/PiqueTree.selector';\r\nimport { Line } from 'rc-progress';\r\nimport { Green } from '../../utils/color';\r\n\r\nimport FromInput from '../formInput/FormInput.component';\r\n\r\n\r\nconst MultipleFilesUpload = ({projects, setProjects}) => {\r\n\r\n    const [progress, setProcess] = React.useState(0);\r\n    const [quarterFiles, setQuarterFiles] = React.useState([]);\r\n    const [quarterNumber, setQuarter] = React.useState('');\r\n    const [submitting, setSubmitting] = React.useState(false);\r\n\r\n    const handleUpload = async (e) => {\r\n        let allFiles = [];\r\n        [...e.target.files].filter(file => file.size !== 0).map(file=> allFiles.push(file))\r\n        const results = await readAllFiles(allFiles, setProcess);\r\n        setProjects(results)\r\n        setQuarterFiles(results)\r\n    }\r\n   console.log(\"quarter files\", quarterFiles)\r\n\r\n   // onChange to handle version input\r\n   const handleQuarterNumber = e => {\r\n    setQuarter(e.target.value)\r\n        if (quarterFiles !== null) {\r\n        quarterFiles[\"QuarterFilesNumber\"]=e.target.value\r\n         } else{\r\n        alert.show(\"Quarter files are null\")\r\n        }\r\n    }\r\n\r\n    console.log(\"quarter number\", quarterNumber)\r\n\r\n    // onClick to handle submitting\r\n    const handleSubmitting = () => {setSubmitting(!submitting)}\r\n\r\n     // onClick to setprojects setVersions\r\n     const handleSubmit = () => {\r\n        if (quarterNumber !== '' && quarterFiles !== null && !projects.includes(quarterFiles) && !versions.includes(v)) {\r\n            versions.push(v);\r\n            projects.push(file)\r\n            setProjects(projects)\r\n            setVersions(versions)\r\n            handleSubmitting()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>S\r\n            <LoaderWrapper>\r\n                <Label>\r\n                    <i>Upload Multiple Files</i>\r\n                    <Input \r\n                        type=\"file\" \r\n                        accept=\".json\" \r\n                        multiple={true} \r\n                        onChange={handleUpload}\r\n                    />\r\n                </Label>\r\n                <FromInput\r\n                    type='text'\r\n                    label={\"Quarter Number: Q1\"}\r\n                    name=\"quarter\"\r\n                    value={quarterNumber}\r\n                    onChange={handleQuarterNumber}\r\n                />\r\n            </LoaderWrapper>\r\n                {projects && progress ? (\r\n                    projects.map((file, index) => {\r\n                        return (\r\n                            <div key={index}>\r\n                                <p>v{file.versionNumber} {file.fileName}</p>\r\n                                <Line percent={progress} strokeWidth=\"1\" strokeColor={Green.value}/>\r\n                            </div>\r\n                        )\r\n                    })\r\n                ) : null}\r\n\r\n        </div>\r\n\r\n     )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  projects: selectProjects\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setProjects: data => dispatch(setProjects(data)),\r\n    setQuarters: data => dispatch(setQuarters(data))\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MultipleFilesUpload)"]},"metadata":{},"sourceType":"module"}